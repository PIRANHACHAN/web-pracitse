<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>跑马灯效果</title>
    <script
      src="../node_modules/vue/dist/vue.js"
      type="text/javascript"
      charset="utf-8"
    ></script>
  </head>
  <body>
    <div id="app">
      <button type="button" value="浪起来" @click="beginShow">浪起来</button>
      <button type="button" value="低调" @click="stopShow">低调</button>
      <h3>{{ msg }}</h3>
    </div>
    <script type="text/javascript">
      // Vue实例会监听自身data中数据的改变,若有变化,会立马渲染到页面中
      var vm = new Vue({
        el: '#app',
        data: {
          msg: '猥琐发育，别浪~~！',
          intervalId: null,
        },
        methods: {
          beginShow: function () {
            // var _this = this;
            if (this.intervalId != null) return
            this.intervalId = setInterval(() => {
              // 获取头一个字符
              var start = this.msg.substring(0, 1)
              // 获取剩下的字符串
              var end = this.msg.substring(1)
              // 重新拼接得到新的字符串,并赋值给msg
              this.msg = end + start
            }, 200)
          },
          stopShow: function () {
            clearInterval(this.intervalId)
            this.intervalId = null
          },
        },
      })
    </script>
  </body>
</html>
